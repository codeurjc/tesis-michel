% MY LIBS
\usepackage{tabularx,adjustbox,booktabs}
\usepackage{xcolor}
\usepackage{tcolorbox}
\usepackage{footnote}
\usepackage{minitoc}
\usepackage{titletoc}

% BUILDABILITY
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    linkcolor={blue},
    citecolor={blue},
    urlcolor={blue}
}
\usepackage{zref-totpages}
\usepackage[flushleft]{threeparttable}
\usepackage{listings}
\usepackage{paralist}
\usepackage{hhline}
\usepackage[strings]{underscore}
\lstset
{ %Formatting for code in appendix
	basicstyle=\fontsize{7}{11}\ttfamily,
	escapeinside={<@}{@>},
	showstringspaces=false,
	tabsize=1,
	breaklines=true,
	breakatwhitespace=false
}
\usepackage{enumerate}
\usepackage{soul}
\usepackage{caption}

\newcommand\setrow[1]{\gdef\rowmac{#1}#1\ignorespaces}
\newcommand\clearrow{\global\let\rowmac\relax}
\clearrow

% TESTABILITY 
\usepackage{svg}
\usepackage{amsmath}
\usepackage{tikz}
\usepackage{rotating}
\usetikzlibrary{arrows.meta, automata,positioning}
\tikzset{%
	large/.style = {
		minimum width=8cm,
		rectangle, draw=black,
	},
	base/.style = {
		rectangle, draw=black,
		text width=2.3cm,
		minimum width=2cm
	}
}

\newcommand{\mcrot}[4]{\multicolumn{#1}{#2}{\rlap{\rotatebox{#3}{#4}~}}} 

\newcommand*{\twoelementtable}[3][l]%
{%  
    \renewcommand{\arraystretch}{0.8}%
    \begin{tabular}[t]{@{}#1@{}}%
        #2\tabularnewline
        #3%
    \end{tabular}%
}

% ROTATE HEADER
%\newcommand*{\rH}[1]{\begin{sideways}\textbf{#1}\end{sideways}}
%\newcommand*{\rH}[1]{\begin{sideways}\textbf{\begin{tabular}[l]{@{}l@{}}#1\end{tabular}}\end{sideways}}
\newcommand*{\rH}[1]{\rotatebox{90}{\textbf{\begin{tabular}[c]{@{}l@{}}#1\end{tabular}}}}

% BUG HUNTER

\usepackage{pifont}
\usepackage{paralist}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{hyperref}
\usepackage{amssymb}
\usepackage[normalem]{ulem}
\usepackage[linesnumbered,ruled]{algorithm2e}
  \SetKwComment{Comment}{/* }{ */}
  \SetAlFnt{\scriptsize\sf}
  \SetKw{And}{\textbf{ and }}
\usepackage{tikz}
\usetikzlibrary{arrows.meta, automata,positioning}
\tikzset{%
	large/.style = {
		minimum width=8cm,
		rectangle, draw=black,
	},
	base/.style = {
		rectangle, draw=black,
		text width=2.3cm,
		minimum width=2cm
	}
}
\usepackage{lmodern}

\newcommand*\mean[1]{\bar{#1}}
\newcommand*\median[1]{\tilde{#1}}
\renewcommand{\arraystretch}{1.2}

%% COMMENTS

\newcommand{\nb}[2]{
	{
		{\color{black}{
				\small\fbox{\bfseries\sffamily\scriptsize#1}
				{\sffamily\small$\triangleright~${\it\sffamily\small #2}$~\triangleleft$}
	}}}
}

\newcommand{\add}[1]{
	\textcolor{teal}{#1}
}
\newcommand{\remove}[1]{
	\textcolor{red}{\sout{#1}}
}

\newcommand\gema{Rodr\'{\i}guez-P\'{e}rez et al.}

% USER MACROS

\newif\ifdraft
\drafttrue

\ifdraft
\newcommand\michel[1]{\nb{Michel}{\color{purple}#1}}
\newcommand\patxi[1]{\nb{Patxi}{\color{blue}#1}}
\newcommand\mica[1]{\nb{Mica}{\color{blue}#1}}
\newcommand{\fixme}[1]{{\textcolor{red}{[FIXME] #1}}\xspace}
\newcommand{\cn}{{\color{violet}[citation required]}}

\else
%\usepackage[disable]{todonotes}
\newcommand\michel[1]{}
\newcommand\patxi[1]{}
\newcommand\mica[1]{}
\newcommand{\fixme}[1]{}
\newcommand{\cn}{}

\fi

\let\tmp\oddsidemargin
\let\oddsidemargin\evensidemargin
\let\evensidemargin\tmp
\reversemarginpar

\renewcommand{\mtifont}{\large\bf}
\renewcommand{\mtcfont}{\footnotesize}
\renewcommand{\mtcSfont}{\footnotesize\bf}
\renewcommand{\mtcSSfont}{\footnotesize}
\renewcommand{\mtcSSSfont}{\footnotesize}

\titleformat{\chapter}[display]   
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}   
\titlespacing*{\chapter}{0pt}{50pt}{20pt}

\dominitoc
